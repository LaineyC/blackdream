<div class="container">
    <div ng-controller="guideController">
        <div class="row">
            <div class="col-sm-3" style="position: relative;min-height: 1px;">
                <div style="position: fixed;top:65px;width: 225px;">
                    <div class="panel panel-primary">
                        <div class="panel-heading"><label>开发手册</label></div>
                        <div class="list-group" >
                            <a href="javascript:void(0)" ng-click="anchorScroll('a1')" class="list-group-item">我的生成器</a>
                            <a href="javascript:void(0)" ng-click="anchorScroll('a2')" class="list-group-item">数据模型</a>
                            <a href="javascript:void(0)" ng-click="anchorScroll('a3')" class="list-group-item">模板文件</a>
                            <a href="javascript:void(0)" ng-click="anchorScroll('a4')" class="list-group-item">生成策略</a>
                        </div>
                    </div>
                    <div class="panel panel-primary">
                        <div class="panel-heading"><label>用户手册</label></div>
                        <div class="list-group" >
                            <a href="javascript:void(0)" ng-click="anchorScroll('a5')" class="list-group-item">他们的生成器</a>
                            <a href="javascript:void(0)" ng-click="anchorScroll('a6')" class="list-group-item">我的实例</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-9">
                <div class="panel panel-primary" id="a1">
                    <div class="panel-heading">
                        <h3 class="panel-title"><label>我的生成器</label></h3>
                    </div>
                    <div class="panel-body">
                       <p>一个生成器由<strong class="text-warning">数据模型</strong>、<strong class="text-warning">模板文件</strong>、<strong class="text-warning">生成策略</strong>三部分构成。</p>
                    </div>
                </div>
                <div class="panel panel-primary" id="a2">
                    <div class="panel-heading">
                        <h3 class="panel-title"><label>数据模型</label></h3>
                    </div>
                    <div class="panel-body">
                        <p>数据模型定义了生成器所需源数据的数据类型结构，每个生成器可制定多个数据模型。</p>
                        <p>级联脚本通过<strong class="text-warning">JavaScript</strong>编写， 脚本内置变量<span class="text-info">property</span>。</p>
                        <p><span class="text-info">property</span>是（定义相应属性集后）用户通过工作台添加的一行记录，通过<span class="text-info">property[名称]</span>或者<span class="text-info">property.名称</span>来访问属性的值。</p>
                    </div>
                </div>
                <div class="panel panel-primary" id="a3">
                    <div class="panel-heading">
                        <h3 class="panel-title"><label>模板文件</label></h3>
                    </div>
                    <div class="panel-body">
                        <p>模板文件定义了生成代码的模板，采用<strong class="text-warning">Velocity</strong>模板实现。</p>
                        <p><strong class="text-warning">Velocity</strong>模板所能访问的变量由策略文件（<strong class="text-warning">TemplateContext</strong>标签及其子标签）定义。</p>
                        <table class="table table-bordered table-condensed table-hover">
                            <caption>模板内置变量 <a target="_blank" href="http://velocity.apache.org/tools/releases/2.0/generic.html" class="text-info">API文档</a></caption>
                            <thead>
                                <tr class="active">
                                    <th class="col-sm-4">变量名</th>
                                    <th>变量说明</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td><span class="text-info">alternator</span></td><td></td></tr>
                                <tr><td><span class="text-info">class</span></td><td></td></tr>
                                <tr><td><span class="text-info">context</span></td><td></td></tr>
                                <tr><td><span class="text-info">conversion</span></td><td></td></tr>
                                <tr><td><span class="text-info">date</span></td><td>对Date操作：格式化、比较等</td></tr>
                                <tr><td><span class="text-info">display</span></td><td></td></tr>
                                <tr><td><span class="text-info">escape</span></td><td>对template进行escaping</td></tr>
                                <tr><td><span class="text-info">field</span></td><td></td></tr>
                                <tr><td><span class="text-info">loop</span></td><td>更好地控制 #foreach loop</td></tr>
                                <tr><td><span class="text-info">link</span></td><td></td></tr>
                                <tr><td><span class="text-info">list</span></td><td>透明地处理array和list</td></tr>
                                <tr><td><span class="text-info">math</span></td><td>数学运算</td></tr>
                                <tr><td><span class="text-info">number</span></td><td>对数字格式化和convert</td></tr>
                                <tr><td><span class="text-info">render</span></td><td>对VTL的字符串执行 eval</td></tr>
                                <tr><td><span class="text-info">resource</span></td><td>国际化支持</td></tr>
                                <tr><td><span class="text-info">sort</span></td><td>对collections array iterator进行排序</td></tr>
                                <tr><td><span class="text-info">xml</span></td><td>对xml文件读取，需要dom4j的支持</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="panel panel-primary" id="a4">
                    <div class="panel-heading">
                        <h3 class="panel-title"><label>生成策略</label></h3>
                    </div>
                    <div class="panel-body">
                        <p>策略文件定义了代码生成和文件生成的规则。</p>
                        <p>代码生成策略定义了一组标签，采用<strong class="text-warning">EL表达式</strong>访问变量。</p>
                        <p>策略内置变量<span class="text-info">global</span>（类型<strong class="text-warning">Global</strong>）和<span class="text-info">data</span>（类型<strong class="text-warning">DataModel</strong>）。</p>
                        <pre style="background-color:inherit;">
<span class="text-success">//全局变量</span>
<strong class="text-warning">Global</strong> <span class="text-warning">{</span>

    <span class="text-success">//生成号</span>
    <span class="text-primary">Long</span> <span class="text-info">generateId</span>

    <span class="text-success">//生成代码时的用户</span>
    <span class="text-primary">User</span> <span class="text-info">user</span>

    <span class="text-success">//生成器开发者</span>
    <span class="text-primary">User</span> <span class="text-info">developer</span>

    <span class="text-success">//生成器</span>
    <span class="text-primary">Generator</span> <span class="text-info">generator</span>

    <span class="text-success">//生成器实例</span>
    <span class="text-primary">GeneratorInstance</span> <span class="text-info">generatorInstance</span>

    <span class="text-success">//生成策略</span>
    <span class="text-primary">TemplateStrategy</span> <span class="text-info">templateStrategy</span>
<span class="text-warning">}</span>

<span class="text-success">//数据模型</span>
<strong class="text-warning">DataModel</strong> <span class="text-warning">{</span>

    <span class="text-success">//ID</span>
    <span class="text-primary">Long</span> <span class="text-info">id</span>

    <span class="text-success">//数据对象的名称</span>
    <span class="text-primary">String</span> <span class="text-info">name</span>

    <span class="text-success">//上级</span>
    <span class="text-primary">DataModel</span> <span class="text-info">parent</span>

    <span class="text-success">//子级</span>
    <span class="text-primary">List&lt;DataModel></span> <span class="text-info">children</span>

    <span class="text-success">//由数据模型设定的普通属性</span>
    <span class="text-primary">Map&lt;String, Object></span> <span class="text-info">properties</span>

    <span class="text-success">//由数据模型设定的级联属性</span>
    <span class="text-primary">List&lt;Map&lt;String, Object>></span> <span class="text-info">association</span>

    <span class="text-success">//定义该DataModel的properties属性和association属性的模型</span>
    <span class="text-primary">DynamicModel</span> <span class="text-info">dynamicModel</span>
<span class="text-warning">}</span>

<span class="text-success">//用户</span>
<strong class="text-warning">User</strong> <span class="text-warning">{</span>

    <span class="text-success">//ID</span>
    <span class="text-primary">Long</span> <span class="text-info">id</span>

    <span class="text-success">//用户名</span>
    <span class="text-primary">String</span> <span class="text-info">userName</span>
<span class="text-warning">}</span>

<span class="text-success">//生成器</span>
<strong class="text-warning">Generator</strong> <span class="text-warning">{</span>

    <span class="text-success">//ID</span>
    <span class="text-primary">Long</span> <span class="text-info">id</span>

    <span class="text-success">//生成器名称</span>
    <span class="text-primary">String</span> <span class="text-info">name</span>
<span class="text-warning">}</span>

<span class="text-success">//生成器实例</span>
<strong class="text-warning">GeneratorInstance</strong> <span class="text-warning">{</span>

    <span class="text-success">//ID</span>
    <span class="text-primary">Long</span> <span class="text-info">id</span>

    <span class="text-success">//生成器实例名称</span>
    <span class="text-primary">String</span> <span class="text-info">name</span>
<span class="text-warning">}</span>

<span class="text-success">//生成策略</span>
<strong class="text-warning">TemplateStrategy</strong> <span class="text-warning">{</span>

    <span class="text-success">//ID</span>
    <span class="text-primary">Long</span> <span class="text-info">id</span>

    <span class="text-success">//生成策略名称</span>
    <span class="text-primary">String</span> <span class="text-info">name</span>
<span class="text-warning">}</span>
                        </pre>
                        <table class="table table-bordered table-condensed table-hover">
                            <caption>策略内置函数</caption>
                            <thead>
                            <tr class="active">
                                <th class="col-sm-3">函数名</th>
                                <th class="col-sm-4">函数说明</th>
                                <th>使用举例</th>
                            </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><span><span class="text-info">fn:contains</span></span></td>
                                    <td><span>判断字符串是否包含另外一个字符串</span></td>
                                    <td><span>${fn:contains(name, searchString)}</span></td>
                                </tr>
                                <tr>
                                    <td><span><span class="text-info">fn:containsIgnoreCase</span></span></td>
                                    <td><span>判断字符串是否包含另外一个字符串(大小写无关)</span></td>
                                    <td><span>${fn:containsIgnoreCase(name, searchString)}</span></td>
                                </tr>
                                <tr>
                                    <td><span><span class="text-info">fn:endsWith</span></span></td>
                                    <td><span>判断字符串是否以另外字符串结束</span></td>
                                    <td><span>${fn:endsWith(filename, ".txt")}</span></td>
                                </tr>
                                <tr>
                                    <td><span><span class="text-info">fn:escapeXml</span></span></td>
                                    <td><span>把一些字符转成XML表示，例如&lt;字符应该转为&amp;lt;</span></td>
                                    <td><span>${fn:escapeXml(param:info)}</span></td>
                                </tr>
                                <tr>
                                    <td><span><span class="text-info">fn:indexOf</span></span></td>
                                    <td><span>子字符串在母字符串中出现的位置</span></td>
                                    <td><span>${fn:indexOf(name, "-")}</span></td>
                                </tr>
                                <tr>
                                    <td><span><span class="text-info">fn:join</span></span></td>
                                    <td><span>将数组中的数据联合成一个新字符串，并使用指定字符格开</span></td>
                                    <td><span>${fn:join(array, ";")}</span></td>
                                </tr>
                                <tr>
                                    <td><span><span class="text-info">fn:length</span></span></td>
                                    <td><span>获取字符串的长度，或者数组的大小</span></td>
                                    <td><span>${fn:length(shoppingCart.products)}</span></td>
                                </tr>
                                <tr>
                                    <td><span><span class="text-info">fn:replace</span></span></td>
                                    <td><span>替换字符串中指定的字符</span></td>
                                    <td><span>${fn:replace(text, "-", "&amp;#149;")}</span></td>
                                </tr>
                                <tr>
                                    <td><span><span class="text-info">fn:split</span></span></td>
                                    <td><span>把字符串按照指定字符切分</span></td>
                                    <td><span>${fn:split(customerNames, ";")}</span></td>
                                </tr>
                                <tr>
                                    <td><span><span class="text-info">fn:startsWith</span></span></td>
                                    <td><span>判断字符串是否以某个子串开始</span></td>
                                    <td><span>${fn:startsWith(product.id, "100-")}</span></td>
                                </tr>
                                <tr>
                                    <td><span><span class="text-info">fn:substring</span></span></td>
                                    <td><span>获取子串</span></td>
                                    <td><span>${fn:substring(zip, 6, -1)}</span></td>
                                </tr>
                                <tr>
                                    <td><span><span class="text-info">fn:substringAfter</span></span></td>
                                    <td>
                                        <p><span>获取从某个字符所在位置开始的子串</span></p>
                                    </td>
                                    <td><span>${fn:substringAfter(zip, "-")}</span></td>
                                </tr>
                                <tr>
                                    <td><span><span class="text-info">fn:substringBefore</span></span></td>
                                    <td><span>获取从开始到某个字符所在位置的子串</span></td>
                                    <td><span>${fn:substringBefore(zip, "-")}</span></td>
                                </tr>
                                <tr>
                                    <td><span><span class="text-info">fn:toLowerCase</span></span></td>
                                    <td><span>转为小写</span></td>
                                    <td><span>${fn.toLowerCase(product.name)}</span></td>
                                </tr>
                                <tr>
                                    <td><span><span class="text-info">fn:toUpperCase</span></span></td>
                                    <td><span>转为大写字符</span></td>
                                    <td><span>${fn.toUpperCase(product.name)}</span></td>
                                </tr>
                                <tr>
                                    <td><span><span class="text-info">fn:trim</span></span></td>
                                    <td><span>去除字符串前后的空格</span></td>
                                    <td><span>${fn.trim(name)}</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="panel panel-primary" id="a5">
                    <div class="panel-heading">
                        <h3 class="panel-title"><label>他们的生成器</label></h3>
                    </div>
                    <div class="panel-body">
                       <p>由开发者制定好的生成器。</p>
                    </div>
                </div>
                <div class="panel panel-primary" id="a6">
                    <div class="panel-heading">
                        <h3 class="panel-title"><label>我的实例</label></h3>
                    </div>
                    <div class="panel-body">
                        <p>每个生成器可以创建多个实例，一个实例一份数据。</p>
                        <p>用户通过搜索出的生成器生成实例，然后进控制台进行生成数据的输入。</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>